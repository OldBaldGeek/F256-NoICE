# F256-NoICE
## Tools and techniques to use NoICE on the Foenix F256 retro system

NoICE Debugger (https://www.noicedebugger.com) is a remote debugger
analogous to using gdb with a remote stub. 
NoICE supports a variety of 8-bit and 16-bit targets, including the 65C02
and 6809 processors supported by the F256.

The UI of NoICE runs under Windows. For 65(C)02, 6809, and similar targets,
NoICE uses a small target monitor, usually communicating via a serial line.
Full details of the protocol may be found on the NoICE website.

This project is intended to allow NoICE to be used to debug programs running
on the Foenix F256 system.

NoICE itself is not Open Source or Free. However, files posted in this
repository are in the public domain.

## Target Monitor

NoICE ships (or downloads) with source code for standard monitors. This
repository contains monitors modified to support various modes of operation
on F256 hardware.

### Mon6502_F256_Merlin.asm

This is the standard NoICE monitor for the 6502 modified in several ways:
- Assembles with the Merlin32 assembler
- Configured to be loaded into and run from the top 2K of logical memory
  (addresses 0xFF80 to 0xFFFF), taking control of the interrupt vectors.
- May be edited to load into any physical block of RAM
- Allows the user of NoICE's single memory window to manipulate physical
  memory on the F256
- The build process generates a .pgz file that can be loaded into the F256
  by standard F256 tools

## Support Utilities

NoICE is most conveniently used as a source-level debugger. However, doing that
requires appropriate debug information about the code being debugged. NoICE
supports elf/dwarf debug files, but these are not generated by F256 tools
that I have seen. Thus, utilities are provided to extract at least some debug
information from the available tools.

### merlin_noi.py

This Python program processes the file.pgz (or file.pgx) and fle.pgz.output.txt
files generated by Merlin32 when the -V option is specified.
Two output files are generated:
- file.pgz.noi contains symbol and label definitions, and source-file and
  line information for source-level debugging.
- file.pgz.s19 contains Motorola S-records containing program data. This file
  is intended for loading by NoICE, rather than being general-purpose: it
  may contain memory mapping information to support NoICE, which may not be
  suitable for other applications.
